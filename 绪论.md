
## Chapter 1 绪论

### 1.1 计算机的数系及对数的处理

#### 1.1.1 机器数系

计算机中使用的数系成为机器数系。

**计算机中的实数（浮点数）**

$\beta$进制的浮点数：

$x=\pm\beta^{c}\times 0.a_1a_2\cdots a_t,a_i\in \{0,1,\cdots,\beta-1\}$

**机器数系**

$F(\beta,t,L,U)=\{\pm\beta^{c}\times 0.a_1a_2\cdots a_t|a_k\in \{0,1,\cdots,\beta-1\},L\le c\le U\}$

$t$：字长，正整数；$\beta$：进制，一般取2、8、10、16；

$c$：阶码，整数，$L\le c\le U$，$L$与$U$固定整数。

**机器数系特点**

- 有限的离散集；
- 有绝对值最大非零数（M）和最小非零数（m）；
- 数绝对值大于M，产生**上溢错误**；小于m，产生**下溢错误**，统称**溢出错误**。

- 计算机把尾数为0且阶数最小的数表示**数零**。

#### 1.1.2 计算机接受、处理数据的方法

**计算对数接收**

1、$x\in F(\beta,t,L,U)$，原样接收$x$；

2、$x\notin F(\beta,t,L,U),m\le |x|\le M$，则用$F(\beta,t,L,U)$中罪属于靠近$x$的数$fl(x)$（机器数）表示并记录$x$。

**计算机对数的运算处理**

1、加减法：对阶，后与暖，再舍入；

2、乘除法：先运算，再舍入。

### 1.2 误差

准确值与近似值的差异就是误差。

误差来源：

- 模型误差（也称描述误差）
- 观测误差（数据误差）
- **截断误差**（方法误差）
- **舍入误差**（计算误差）

**定义1** **绝对误差**（简称误差）：$e(x^*)=x^*-x$，$x$是准确值，$x^*$是$x$的一个近似值。

**定义2** **相对误差**：$e_r(x^*)=\dfrac{e^*}{x}=\dfrac{x^*-x}{x}$，相对误差绝对值越小，近似程度越高。

**定义3** 称满足$|e^*|=|x^*-x|\leq\varepsilon^*$的正数$\varepsilon^*$为近似值的**误差限**。

**定义4** 满足$|e_r^*|=|\dfrac{x^*-x}{x}|\leq\varepsilon^*_r$的正数$\varepsilon^*$称为**相对误差限**。

实用中，$\varepsilon^*_r=\dfrac{\varepsilon^*}{x^*}$

**微分与误差的对应**

$e(x^*)=x^*-x=dx\quad e_r(x^*)=\dfrac{dx}{x}=d\ln{x}$

**绝对误差和相对误差与微分的关系**

$dx=e(x^*)\quad d\ln{x}=e_r(x^*)$

**四则运算的误差**

1、$e(x^*\pm y^*)=e(x^*)\pm e(y^*)$

2、$e(x^*\cdot y^*)\approx y^*e(x^*)+x^*e(y^*)$

3、$e(\dfrac{x^*}{y^*})\approx \dfrac{y^*e(x^*)-x^*e(y^*)}{(y^*)^2}$

**函数的误差**

对于一元函数$y=f(x)$，有：$|e(f(x^*))|\approx |f'(x^*)|\cdot|e(x^*)|$

表示$x^*$的误差经$f$作用后被放大（或缩小）$|f'(x^*)|$倍，称**绝对误差增长因子**。

### 1.3 有效数字

有效数字可以将误差量化。

#### 1.3.1 有效数字定义

**定义** 若近似数$x^*$的误差限是其某一位上数字的半个单位，就说近似数$x^*$准确到该位；由该位自右向左数到$x^*$的第一个非零数字若有$n$位，就称近似数$x^*$有**$n$位有效数字**。

有效数字的**数学描述** 略

如果十进制$x$经四舍五入得到近似数$x^*$，则$x^*$的有效数字位为将$x^*$写为**规格化浮点数**后的**尾数的位数**。

e.g. 0.00345四舍五入得0.35×10^-2^可知近似数有2位有效数字。

#### 1.3.2 有效数字与误差的关系

**定理** 设十进制近似数$x^*=\pm 0.a_1a_2\cdots a_k\times 10^m,a_1\neq 0,k\ge n$ 

1、若$x^*$有$n$位有效数字，则有：$|e_r(x^*)|=|\dfrac{x^*-x}{x^*}|\le\dfrac{1}{2a_1}\times 10^{1-n}$；

2、（要求$x^*$已知）若$x^*$的相对误差 $|e_r(x^*)|=|\dfrac{x^*-x}{x^*}|\leq \dfrac{1}{2(a_1+1)}\times 10^{1-n}$，则$x^*$有$n$位有效数字。

### 1.4 数值计算研究内容及常用概念

#### 1.4.1 数值计算研究内容

1、连续系统的离散化

2、离散型方程的数值求解

#### 1.4.2 数值分析的常用概念 

1、数值问题

由一组**已知数据**（输入数据）求出一组**结果数据**（输出数据），使得这两组数据之间满足余弦指定的某种关系问题。

2、数值解

由近似公式计算出的解。

3、算法

由给定的已知量，经有限次四则运算及规定的运算顺序，求出所关心未知量的数值解。

*数值分析本质上是研究和构造算法的*。

4、计算量

一个算法所需要的**乘法和除法总次数**$N$。计算量单位flop，表示完成一次浮点数乘法或除法所需时间，可以衡量算法优劣。

e.g. $[A]_{10\times 20}$、$[B]_{20\times 50}$、$[C]_{50\times 1}$，给出计算$D=ABC$的两种算法及其对应计算量。

算法1：$D=(AB)C$，$N=10\times 20\times 50+10\times50\times1=10500 flop$

算法2：$D=A(BC)$，$N=10\times20\times1+20\times50\times1=1200flop$

5、病态问题（蝴蝶效应）

初始数据的微小变化，导致计算结果的**剧烈变化**的问题。

初始数据的微小变化，只引起计算结果**微小变化**的计算问题称为良态问题。

6、数值稳定算法

如果算法的初始数据有误差，而在计算过程中产生的**误差不增长**，则为数值稳定算法。

### 1.5 科学计算需要注意

1、避免相近二数相减，$\because e_r(x-y)=\dfrac{e(x)-e(y)}{x-y}$

2、避免用接近零的数做除数，$\because e(\dfrac{x}{y})=\dfrac{x}{y}[e_r(x)-e_r(y)]$

3、控制误差的积累和传播

方法：避免大数吃小数，用数值稳定的算法。

4、简化计算过程

方法：化简公式或减少运算次数。

e.g.1 $y=\dfrac{1}{\sqrt{x+1}-\sqrt{x}},x>>1$

公式变形：$y=\sqrt{x+1}+\sqrt{x}$

e.g.2 设$n$次多项式$P_n(x)=a_nx^n+a_{n-1}x^{n-1}+\cdots+a_0$，试构建一个计算$P_n(x)$的算法，使计算量尽可能少。

$P_n(x)=((\cdots((a_nx+a_{n-1})x+a_{n-2})x+\cdots+a_1)x+a_0)$，每个括号中有同样的$ax+b$结构，共$n$个括号，只需要$n$个计算量。

---
